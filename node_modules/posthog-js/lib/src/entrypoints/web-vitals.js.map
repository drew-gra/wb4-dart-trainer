{"version":3,"file":"web-vitals.js","sourceRoot":"","sources":["../../../src/entrypoints/web-vitals.ts"],"names":[],"mappings":";;AAAA,4CAAmD;AAEnD,yCAAuD;AACvD,sDAK+B;AAE/B,IAAM,aAAa,GAAG,UAAC,cAA8B;IAA9B,+BAAA,EAAA,qBAA8B;IACjD,IAAM,yBAAyB,GAAG,cAAc;QAC5C,CAAC,CAAC;YACI,KAAK,EAAE,mBAAoB;YAC3B,KAAK,EAAE,mBAAoB;YAC3B,KAAK,EAAE,mBAAoB;YAC3B,KAAK,EAAE,mBAAoB;SAC9B;QACH,CAAC,CAAC;YACI,KAAK,oBAAA;YACL,KAAK,oBAAA;YACL,KAAK,oBAAA;YACL,KAAK,oBAAA;SACR,CAAA;IAEP,0BAAgB,CAAC,qBAAqB,GAAG,0BAAgB,CAAC,qBAAqB,IAAI,EAAE,CAAA;IACrF,0BAAgB,CAAC,qBAAqB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;IAE5F,iGAAiG;IACjG,kGAAkG;IAClG,QAAQ;IACR,2CAA2C;IAC3C,2EAA2E;IAC3E,0BAAgB,CAAC,yBAAyB,GAAG,yBAAyB,CAAA;IAEtE,OAAO,yBAAyB,CAAA;AACpC,CAAC,CAAA;AAED,0BAAgB,CAAC,qBAAqB,GAAG,0BAAgB,CAAC,qBAAqB,IAAI,EAAE,CAAA;AACrF,0BAAgB,CAAC,qBAAqB,CAAC,sBAAsB,GAAG,aAAa,CAAA;AAE7E,kBAAe,aAAa,CAAA","sourcesContent":["import { assignableWindow } from '../utils/globals'\n\nimport { onINP, onLCP, onCLS, onFCP } from 'web-vitals'\nimport {\n    onINP as onINPWithAttribution,\n    onLCP as onLCPWithAttribution,\n    onCLS as onCLSWithAttribution,\n    onFCP as onFCPWithAttribution,\n} from 'web-vitals/attribution'\n\nconst loadCallbacks = (useAttribution: boolean = true) => {\n    const postHogWebVitalsCallbacks = useAttribution\n        ? {\n              onLCP: onLCPWithAttribution,\n              onCLS: onCLSWithAttribution,\n              onFCP: onFCPWithAttribution,\n              onINP: onINPWithAttribution,\n          }\n        : {\n              onLCP,\n              onCLS,\n              onFCP,\n              onINP,\n          }\n\n    assignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\n    assignableWindow.__PosthogExtensions__.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\n    // we used to put posthogWebVitalsCallbacks on window, and now we put it on __PosthogExtensions__\n    // but that means that old clients which lazily load this extension are looking in the wrong place\n    // yuck,\n    // so we also put it directly on the window\n    // when 1.161.1 is the oldest version seen in production we can remove this\n    assignableWindow.postHogWebVitalsCallbacks = postHogWebVitalsCallbacks\n\n    return postHogWebVitalsCallbacks\n}\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.loadWebVitalsCallbacks = loadCallbacks\n\nexport default loadCallbacks\n"]}